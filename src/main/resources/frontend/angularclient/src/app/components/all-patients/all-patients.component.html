<div class="container">
    <h2 class="text-center mt-5">All Patients</h2>
</div>

<div class="container mt-5">
    <div class="row m-3">       
        <p *ngIf="patientsErrorMsg" class="alert alert-danger mb-0" role="alert">{{ patientsErrorMsg }}</p>

        <table id="example" class="table table-striped table-hover mt-3" style="width:100%">
            <thead>
                <tr>
                    <th class="col-1">ID</th>
                    <th class="col-2">Name</th>
                    <th class="col-2">Email</th>
                    <th class="col-2">Address</th>
                    <th class="col-2">Contact No</th>
                    <th class="col-1">DOB</th>
                    <th class="col-1">Gender</th>
                    <th class="col-1">Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let patient of patients">
                    <td class="align-middle">{{ patient.user_id }}</td>
                    <td class="align-middle text-capitalize">{{ patient.first_name + ' ' + patient.last_name }}</td>
                    <td class="align-middle">{{ patient.email }}</td>
                    <td class="align-middle">{{ patient.address }}</td>
                    <td class="align-middle">+65 {{ patient.contact_number }}</td>
                    <td class="align-middle">{{ patient.dob.split('T')[0] }}</td>
                    <td class="align-middle text-capitalize">{{ patient.gender }}</td>
                    <td class="align-middle"><button type="button" class="btn btn-primary" (click)="viewPatientHistory(patient.user_id)">View History</button></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
